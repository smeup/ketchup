<!DOCTYPE html>
<html dir="ltr" lang="en">
    <head>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
        />
        <title>Stencil Component Starter</title>
        <script src="https://d3js.org/d3-path.v1.min.js"></script>
        <script src="https://d3js.org/d3-shape.v1.min.js"></script>
        <script src="/build/mycomponent.js"></script>

        <link
            href="https://cdn.materialdesignicons.com/3.2.89/css/materialdesignicons.min.css"
            rel="stylesheet"
            type="text/css"
        />

        <link
            href="https://fonts.googleapis.com/css?family=Lato"
            rel="stylesheet"
        />

        <script
            type="text/javascript"
            src="https://www.gstatic.com/charts/loader.js"
        ></script>

        <style>
            * {
                box-sizing: border-box;
            }

            :focus {
                outline: none;
            }

            body {
                padding: 1rem;
                font-family: 'Lato', sans-serif;
            }

            .options {
                margin-bottom: 1rem;
            }

            hr {
                margin: 2rem 0;
            }

            .btn-options {
                margin-bottom: 1rem;
                display: grid;
                grid-template-columns: 1fr 1fr 1fr;
                grid-gap: 0.5rem;
            }

            .BTN {
                display: block;
            }
        </style>
    </head>
    <body>
        <a href="chart.html">Ketchup charts</a>
        <br />
        <a href="data-table.html">Ketchup data table</a>
        <br />
        <kup-button label="Sono bottone"></kup-button>
        <kup-radio
            id="krg1"
            displayed-field="label"
            value-field="value"
        ></kup-radio>
        <kup-text-input
            id="int1"
            is-clearable
            initial-value="ciao"
        ></kup-text-input>
        <h4>Combo using portal</h4>
        <kup-combo is-clearable use-portal="true"></kup-combo>
        <h4>FLD 1</h4>
        <kup-fld id="kfld-1"></kup-fld>
        <h4>FLD 2</h4>
        <kup-fld id="kfld-2"></kup-fld>
        <h4>FLD 3</h4>
        <kup-fld id="kfld-3"></kup-fld>
        <h4>FLD 4</h4>
        <kup-fld id="kfld-4"></kup-fld>
        <h4>FLD Initial value</h4>
        <kup-fld id="fld-radio-initialValue"></kup-fld>
        <h4>FLD 5: text format</h4>
        <kup-fld id="fld-5-text"></kup-fld>

        <h4>Input text type password</h4>
        <kup-text-input input-type="password" initial-value="pippo" debounce="100" is-clearable></kup-text-input>

        <h4>The gauge</h4>
        <h5>Valori positivi e negativi</h5>
        <kup-gauge value="100" size="300"></kup-gauge>
        <h5>Valori positivi</h5>
        <kup-gauge value="100" min-value="80" max-value="350" first-threshold="150" second-threshold="275"></kup-gauge>
        <h5>Valori negativi</h5>
        <kup-gauge value="-257" min-value="-500" max-value="-100" first-threshold="-300" second-threshold="-200"></kup-gauge>

        <script>
            let once = true;
            // This is a script for testing these elements
            // This is mandatory for testing the passage of complex parameters inside web components
            setInterval(function() {
                // Radio develop test
                const radio = document.querySelector('#krg1');
                radio.radioName = 'finalFantasy';
                radio.items = [
                    {
                        label: 'Auron',
                        value: 'Auron',
                    },
                    {
                        label: 'Braska the summoner',
                        value: 'Braska',
                    },
                    {
                        label: 'Jecth the catcher',
                        value: 'Jetch',
                    },
                ];

                // Test input text
                const inText = document.querySelector('#int1');

                // Things which need to be done once
                if (once) {
                    radio.addEventListener(
                        'ketchupRadioChanged',
                        (event) => {}
                    );

                    inText.addEventListener('ketchupTextInputFocused', (e) => {
                        console.log('#int1 has been FOCUSED', e);
                    });
                    inText.addEventListener('ketchupTextInputBlurred', (e) => {
                        console.log('#int1 has been BLURRED', e);
                    });
                    inText.addEventListener('ketchupTextInputUpdated', (e) => {
                        console.log('#int1 has been UPDATED', e);
                    });

                    // Never triggers again these part of the code
                    once = false;

                    // The combo box
                    const comboBox = document.querySelector('kup-combo');
                    comboBox.initialValue = {
                        id: 'Darth Vader',
                    };
                    comboBox.items = [
                        {
                            id: 'Darth Vader',
                        },
                        {
                            id: 'Darth Sidius',
                        },
                        {
                            id: 'Darth Maul',
                        },
                        {
                            id: 'Darth Tiranus',
                        },
                    ];
                    comboBox.addEventListener(
                        'ketchupComboSelected',
                        (event) => {
                            console.log('comboHasBeenSelected', event);
                        }
                    );

                    const fld_1 = document.querySelector('#kfld-1');
                    fld_1.config = {
                        type: 'cmb',
                        showSubmit: true,
                        submitLabel: 'Invia',
                        submitPos: 'right',
                        label: 'Seleziona pagina',
                        labelPos: 'top',
                        initialValue: {
                            value: 'label bottone #2',
                            options: true,
                            obj: 'J2KEY',
                            iconClass: '-smeup-fixed-icon TA-B-AMO-A-BASE',
                            children: [],
                        },
                        extensions: {
                            minQueryLength: 4,
                            forceSelection: true,
                        },
                    };
                    fld_1.data = [
                        {
                            value: 'label bottone #1',
                            options: true,
                            obj: 'J1KEY',
                            iconClass: '-smeup-fixed-icon TA-B-AMO-A-BASE',
                            children: [],
                        },
                        {
                            value: 'label bottone #2',
                            options: true,
                            obj: 'J2KEY',
                            iconClass: '-smeup-fixed-icon TA-B-AMO-A-BASE',
                            children: [],
                        },
                        {
                            value: 'label bottone #3',
                            options: true,
                            obj: 'J3KEY',
                            iconClass: '-smeup-fixed-icon TA-B-AMO-A-BASE',
                            children: [],
                        },
                        {
                            value: 'label bottone #4',
                            options: true,
                            obj: 'J4KEY',
                            iconClass: '-smeup-fixed-icon TA-B-AMO-A-BASE',
                            children: [],
                        },
                    ];
                    fld_1.addEventListener('ketchupFldChanged', (payload) => {
                        console.log('Text FLD change', payload);
                    });
                    fld_1.addEventListener('ketchupFldSubmit', (payload) => {
                        console.log('ketchupFldSubmit', payload);
                    });

                    // Radio version
                    const fld_2 = document.querySelector('#kfld-2');
                    fld_2.config = {
                        type: 'rad',
                        displayedField: 'obj',
                        initialValue: {
                            value: 'label bottone #4',
                            options: true,
                            obj: 'J4KEY',
                            iconClass: '-smeup-fixed-icon TA-B-AMO-A-BASE',
                            children: [],
                        },
                        showSubmit: true,
                        submitLabel: 'Conferma 1',
                        valueField: 'obj'
                    };
                    fld_2.data = [
                        {
                            value: 'label bottone #1',
                            options: true,
                            obj: 'J1KEY',
                            iconClass: '-smeup-fixed-icon TA-B-AMO-A-BASE',
                            children: [],
                        },
                        {
                            value: 'label bottone #2',
                            options: true,
                            obj: 'J2KEY',
                            iconClass: '-smeup-fixed-icon TA-B-AMO-A-BASE',
                            children: [],
                        },
                        {
                            value: 'label bottone #3',
                            options: true,
                            obj: 'J3KEY',
                            iconClass: '-smeup-fixed-icon TA-B-AMO-A-BASE',
                            children: [],
                        },
                        {
                            value: 'label bottone #4',
                            options: true,
                            obj: 'J4KEY',
                            iconClass: '-smeup-fixed-icon TA-B-AMO-A-BASE',
                            children: [],
                        },
                    ];
                    fld_2.addEventListener('ketchupFldChanged', (payload) => {
                        console.log('Text FLD change', payload);
                    });
                    fld_2.addEventListener('ketchupFldSubmit', (payload) => {
                        console.log('ketchupFldSubmit', payload);
                    });

                    // Text version
                    const fld_3 = document.querySelector('#kfld-3');
                    fld_3.config = {
                        type: 'Itx',
                        initialValue: 'PRVSHO',
                        showSubmit: true,
                        submitLabel: 'Submit',
                    };
                    fld_3.addEventListener('ketchupFldChanged', (payload) => {
                        console.log('Text FLD change', payload);
                    });
                    fld_3.addEventListener('ketchupFldSubmit', (payload) => {
                        console.log('Text FLD submit', payload);
                    });

                    // Example 4
                    const fld_4 = document.querySelector('#kfld-4');
                    fld_4.config = {
                        type: 'cmb',
                        displayedField: 'value',
                        isClearable: true,
                        initialValue: { value: 'PRVSHO' },
                        showSubmit: true,
                        submitLabel: 'Conferma',
                    };
                    fld_4.data = [
                        { value: 'PRVSHO' },
                        { value: 'PRV123' },
                        { value: 'PRV456' },
                    ];
                    fld_4.addEventListener('ketchupFldChanged', (payload) => {
                        console.log('Text FLD change', payload);
                    });
                    fld_4.addEventListener('ketchupFldSubmit', (payload) => {
                        console.log('Text FLD submit', payload);
                    });

                    // Radio FLD
                    const fldRadioInitial = document.querySelector('#fld-radio-initialValue');
                    fldRadioInitial.addEventListener('ketchupFldChanged', (payload) => {
                        console.log('Radio FLD change', payload);
                    });
                    fldRadioInitial.config = {
                        "type": "rad",
                        "showSubmit": false,
                        "valueField": "value",
                        "displayedField": "value",
                        "extensions": {
                            "minQueryLength": 4,
                            "forceSelection": true
                        },
                        "initialValue": {
                            "value": "PRVSHO"
                        }
                    };
                    fldRadioInitial.data = [
                        { value: 'PRVSHO' },
                        { value: 'PRV123' },
                        { value: 'PRV456' },
                    ];

                    // Text FLD
                    const textFld = document.querySelector("#fld-5-text");
                    textFld.config = {
                        "type": "itx",
                        "showSubmit": true,
                        "valueField": "value",
                        "displayedField": "value",
                        "extensions": {
                            "minQueryLength": 4,
                            "forceSelection": true
                        },
                        "submitLabel": "Prova submit"
                    };
                    textFld.addEventListener('ketchupFldChanged', (payload) => {
                        console.log('Text FLD change', payload);
                    });
                    textFld.addEventListener('ketchupFldSubmit', (payload) => {
                        console.log('Text FLD submit', payload);
                    });

                    // For the password field
                    const inPassword = document.querySelector('kup-text-input[input-type="password"]');
                    inPassword.addEventListener('ketchupTextInputFocused', (e) => {
                        console.log('Password has been FOCUSED', e);
                    });
                    inPassword.addEventListener('ketchupTextInputBlurred', (e) => {
                        console.log('#Password has been BLURRED', e);
                    });
                    inPassword.addEventListener('ketchupTextInputUpdated', (e) => {
                        console.log('Password has been UPDATED', e);
                    });
                }
            }, 5000);
        </script>

        <h4>Playground bottoniera</h4>
        <div class="BTN">
            <div class="btn-options">
                <div>
                    <label for="btn-showtext">Show text</label>
                    <input
                        type="checkbox"
                        checked
                        name="btn-showtext"
                        id="btn-showtext"
                        onchange="toggleBtnShowtext(event)"
                    />
                </div>

                <div>
                    <label for="btn-fillspace">Fillspace</label>
                    <input
                        type="checkbox"
                        name="btn-fillspace"
                        id="btn-fillspace"
                        onchange="toggleBtnFillspace(event)"
                    />
                </div>

                <div>
                    <label for="btn-horizontal">Horizontal</label>
                    <input
                        type="checkbox"
                        checked
                        name="btn-horizontal"
                        id="btn-horizontal"
                        onchange="toggleBtnHorizontal(event)"
                    />
                </div>

                <div>
                    <label for="btn-showicon">Show icon</label>
                    <input
                        type="checkbox"
                        checked
                        name="btn-showicon"
                        id="btn-showicon"
                        onchange="toggleBtnShowicon(event)"
                    />
                </div>

                <div>
                    <label for="btn-rounded">Rounded</label>
                    <input
                        type="checkbox"
                        name="btn-rounded"
                        id="btn-rounded"
                        onchange="toggleBtnRounded(event)"
                    />
                </div>

                <div>
                    <label for="btn-hinttextmode">TextMode='Hint'</label>
                    <input
                        type="checkbox"
                        name="btn-hinttextmode"
                        id="btn-hinttextmode"
                        onchange="toggleBtnTextModeHint(event)"
                    />
                </div>

                <div>
                    <label for="btn-transparent">Transparent</label>
                    <input
                        type="checkbox"
                        name="btn-transparent"
                        id="btn-transparent"
                        onchange="toggleBtnTransparent(event)"
                    />
                </div>

                <div>
                    <label for="btn-bordercolor">Border color</label>
                    <input
                        type="color"
                        name="btn-bordercolor"
                        id="btn-bordercolor"
                        onchange="onBorderColorChange(event)"
                    />
                </div>

                <div>
                    <label for="btn-buttonclass">Button class</label>
                    <select
                        name="btn-buttonclass"
                        id="btn-buttonclass"
                        onchange="onBorderButtonClassChange(event)"
                    >
                        <option value=""></option>
                        <option value="btn-info">btn-info</option>
                        <option value="btn-danger">btn-danger</option>
                        <option value="btn-warning">btn-warning</option>
                        <option value="btn-selected">btn-selected</option>
                    </select>
                </div>

                <div>
                    <label for="btn-flat">Flat</label>
                    <input
                        type="checkbox"
                        name="btn-flat"
                        id="btn-flat"
                        onchange="toggleBtnFlat(event)"
                    />
                </div>

                <div>
                    <label for="btn-showselection">Show Selection</label>
                    <input
                        type="checkbox"
                        name="btn-showselection"
                        id="btn-showselection"
                        onchange="toggleBtnShowSelection(event)"
                    />
                </div>

                <div>
                    <label for="btn-columns">Columns</label>
                    <input
                        type="number"
                        name="btn-columns"
                        id="btn-columns"
                        onchange="toggleBtnColumns(event)"
                    />
                </div>

                <div>
                    <label for="btn-align">Align</label>
                    <select
                        name="btn-align"
                        id="btn-align"
                        onchange="onBtnAlignChange(event)"
                    >
                        <option value=""></option>
                        <option value="left">left</option>
                        <option value="right">right</option>
                    </select>
                </div>

                <div>
                    <label for="btn-fontbold">Bold font</label>
                    <input
                        type="checkbox"
                        name="btn-fontbold"
                        id="btn-fontbold"
                        onchange="toggleBtnStyle()"
                    />
                </div>

                <div>
                    <label for="btn-fontitalic">Italic font</label>
                    <input
                        type="checkbox"
                        name="btn-fontitalic"
                        id="btn-fontitalic"
                        onchange="toggleBtnStyle()"
                    />
                </div>

                <div>
                    <label for="btn-fontunderline">Underline font</label>
                    <input
                        type="checkbox"
                        name="btn-fontunderline"
                        id="btn-fontunderline"
                        onchange="toggleBtnStyle()"
                    />
                </div>

                <div>
                    <label for="btn-fontcolor">Font color</label>
                    <input
                        type="color"
                        value="#FFFFFF"
                        name="btn-fontcolor"
                        id="btn-fontcolor"
                        onchange="toggleBtnStyle()"
                    />
                </div>

                <div>
                    <label for="btn-bckcolor">Background color</label>
                    <input
                        type="color"
                        value="#4e908f"
                        name="btn-bckcolor"
                        id="btn-bckcolor"
                        onchange="toggleBtnStyle()"
                    />
                </div>

                <div>
                    <label for="btn-font">Font</label>
                    <select
                        name="btn-font"
                        id="btn-font"
                        onchange="toggleBtnStyle()"
                    >
                        <option value=""></option>
                        <option value="Verdana">Verdana</option>
                        <option value="Courier">Courier</option>
                    </select>
                </div>

                <div>
                    <label for="btn-fontsize">Font size</label>
                    <input
                        id="btn-fontsize"
                        type="number"
                        onchange="toggleBtnStyle()"
                        value="14"
                    />
                </div>
            </div>

            <kup-btn></kup-btn>

            <p id="btn-label"></p>
        </div>

        <h1>html frame component</h1>
        <kup-html
            id="htm-2"
            src="https://www.google.it/"
            is-button
        ></kup-html>
        <kup-html
            id="htm-1"
            src="https://stenciljs.com/"
            is-button
        ></kup-html>

        <script>
            const firstHtm = document.querySelector('#htm-1');
            firstHtm.addEventListener('ketchupHtmlLoaded', () => {
                console.log('ketchupHtmlLoaded success');
            });
        </script>

        <script src="/assets/index.js"></script>
    </body>
</html>
